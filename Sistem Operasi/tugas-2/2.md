## Soal 2

Berikut merupakan gambaran Proses yang terjadi dalam kehidupan dunia nyata:

- Terdapat dua siswa, sebut: Budi dan Andi yang masing-masing membutuhkan 2 buah alat tulis yang sama, yaitu: Pensil dan penghapus.
- Budi meminta ijin untuk menggunakan Pensil terlebih dahulu. Karena Pensil memang sedang tidak ada yang menggunakan, maka Pensil diberikan kepada Budi.
- Pada waktu yang hampir bersamaan, Andi meminta ijin untuk menggunakan Penghapus. Karena Penghapus memang sedang tidak ada yang menggunakan, maka Penghapus diberikan kepada Andi.
- Setelah Budi mendapatkan Pensil, langkah selanjutnya adalah meminta ijin untuk menggunakan Penghapus. Karena Penghapus sedang digunakan oleh Andi, maka Budi menunggu sampai Penghapus tidak digunakan.
- Disisi lain, Andi sudah mendapatkan Penghapus, yang kemudian meminta ijin untuk menggunakan Pensil. Karena Pensil sedang digunakan oleh Budi, maka Andi menunggu sampai Pensil tidak digunakan.
- Situasinya akan menjadi Budi menunggu Andi melepaskan Penghapus, padahal Penghapus akan dilepaskan jika Andi sudah mendapatkan Pensil (yang sedang digunakan Budi) dan menyelesaikan prosesnya. Begitu juga sebaliknya.

Dari permasalahan proses diatas, bagaimana cara melakukan proses pemberhentian pada kasus proses di atas!

## Jawaban

Dari kasus di atas, dapat diidentifikasi bahwa terjadi deadlock antara Budi dan Andi.
Deadlock terjadi karena memenuhi 4 kondisi berikut:

1. **Mutual Exclusion**: Pensil dan penghapus hanya bisa digunakan oleh satu orang pada satu waktu
2. **Hold and Wait**: Budi memegang pensil sambil menunggu penghapus, Andi memegang penghapus sambil menunggu pensil
3. **No Preemption**: Tidak ada yang bisa memaksa Budi/Andi untuk melepaskan alat tulis yang sudah mereka pegang
4. **Circular Wait**: Budi menunggu Andi dan Andi menunggu Budi (siklus tertutup)

### Cara Melakukan Proses Pemberhentian (Deadlock Resolution)

Ada beberapa metode yang dapat diterapkan untuk mengatasi deadlock ini:

### Hentikan Semua Proses Deadlock

- perintahkan Budi dan Andi untuk mengembalikan semua alat tulis pensil dan penghapus
- Budi dan Andi memulai dari awal dengan urutan yang berbeda

ini bisa memberhentikan deadlock tapi harus mengulang proses dari awal

### Bisa juga menghentikan satu proses saja

Pilih salah satu contoh Andi untuk mengembalikan penghapus
Budi dapat melanjutkan menggunakan pensil dan penghapus
setelah budi selesai andi dapat menggunakan kedua alat tulis

ini lebih efisien daripada menghentikan semua dan memulai dari awal

### Bisa juga menggunakan metode timeout

seperti memberikan batas waktu tunggu contohnya 2 menit.

jika dalam 2 menit tidak mendapatkan alat tulis kedua, kembalikan alat pertama .
tunggu beberapa saat dengan random delay sebelum mencoba meminjam kembali
ini mencegah keduanya minjam saat yang bersamaan

1. Budi sudah memegang pensil, menunggu penghapus max 2 menit
2. Jika tidak dapat penghapus, Budi kembalikan pensil
3. Andi dapat menggunakan pensil + penghapus
4. Setelah Andi selesai, Budi menggunakan kedua alat tulis
